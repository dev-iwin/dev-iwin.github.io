---
layout: single
title:  "웹 프로그래밍의 이해 08 - CGI 규격과 그 대안"

---

*책 <Django로 배우는 쉽고 빠른 웹 개발, 파이썬 웹 프로그래밍> 1단원 내용을 복습 겸 정리하며...*

## CGI(Common Gateway Interface) 규격

* 웹 서버와 웹 애플리케이션 서버 사이에 정보를 주고 받는 규칙을 정의한 것
* CGI 자체는 정식 프로그래밍 언어나 스크립트가 아니고, 웹 서버와 독립적인 프로그램(프로세서) 사이에 정보를 주고 받는 규격을 의미
* 이 규격을 준수하면 어떤 언어로도 CGI 프로그램 개발 가능
* 웹 서버가 C, C++, Perl, PHP, Python 등으로 만들어진 CGI 프로그램을 직접 호출하여 개별 프로세스를 생성하는 것이 전통적인 CGI 방식

## 단점

* CGI 방식의 근본적인 문제는 각각의 클라이언트 요청에 대하여 독립적인 별도의 프로세스가 생성된다는 것
* 요청이 많아질수록 프로세스가 많아지고, 프로세스가 점유하는 메모리 요구량도 그에 비례적으롤 증가하여, 시스템에 많은 부하를 주게 됨

## 대안 방식

* 이런 이유로 CGI 방식은 현재 거의 사용되고 있지 않으며, 대안으로 여러 기술이 등장
* 대안1 : 스크립트 엔진을 웹 서버에 내장시키는 방식
  1. 별도의 애플리케이션(=CGI 프로그램과 같은 역할을 하는 프로그램)을 Perl, PHP 등의 스크립트 언어로 작성하고
  2. 스크립트를 처리하는 스크립트 엔진(인터프리터)을 웹 서버에 내장시켜서
  3. 별도의 프로세스를 가동시키는 오버헤드를 줄이는(애플리케이션 처리를 고속화하는) 방식
  4. 예 : 아파치 웹 서버에서 사용하는 mod_perl 혹은 mod_php 모듈(현재 파이썬은 mod_python을 더 이상 사용하지 않고, mod_wsgi를 사용함)
* 대안2 : 데몬으로 애플리케이션 처리하는 방식
  1. 애플리케이션을 처리하는 프로세스를 미리 데몬으로 가동시켜 놓은 후,
  2. 웹 서버의 요청을 데몬에서 처리하여 프로세스 생성 부하를 줄이는 방식
  3. 예 : 파이썬의 mod_wsgi 모듈을 데몬 방식으로도 사용함

* 대안3 : 웹 애플리케이션 서버로 처리하는 방식
  1. (기술 발전에 따라) CGI 애플리케이션을 별도의 데몬으로 처리하는 방식에 스레드 처리가 보강되고,
  2. 객체 지향 기술이 반영되면서 애플리케이션 전용 데몬인 애플리케이션 서버로 처리하는 방식
  3. 예 : 현재 가장 많이 사용되고 있는 JSP(Java Server Page), ASP(Active Server Page) 기술에서 애플리케이션 서버 방식을 사용

## 파이썬과 웹 애플리케이션 서버

* 웹 애플리케이션 서버 : mod_wsgi, uwsgi,gunicorn 프로그램들
  : 웹서버 프로그램과는 별개의 애플리케이션 전용 데몬으로 동작함
* 웹 서버 : httpd, nginx 프로그램들